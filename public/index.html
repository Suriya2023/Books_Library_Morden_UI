<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../bootstrap-5.3.8-dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
    <link rel="stylesheet" href="./StyleSheet/style.css">
    <script src="../bootstrap-5.3.8-dist/js/bootstrap.bundle.min.js"></script>
    <script src="./JavaScript/index.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
    <title>LibraryManagementSystem</title>

</head>

<body class="bg-light">
    <header>
        <div class="container-fluid     min-vw-100 min-vh-100">
            <div class="rounded overflow-hidden  justify-content-between d-flex gap-2 text-dark">

                <div id="navMy" class="navbar rounded d-none d-lg-block shadow-sm">
                    <div class="d-flex flex-column justify-content-between p-3"
                        style="width:23vw; min-height:100vh;  border-right:1px solid #e5e7eb;">

                        <div id="NewUserCard" class="text-center mb-4">
                            <img src="./Images/sr.png" class="rounded-circle border shadow-sm mb-2"
                                style="width:70px; height:70px; object-fit:cover;">
                            <h6 class="fw-bold mb-0">Welcome Back üëã</h6>
                            <b class="text-primary">Suraj Rajput</b>
                            <p class="small text-muted mt-1">Frontend Developer</p>

                            <div class="d-flex justify-content-center gap-2 mt-2">
                                <a href="#" class="btn btn-sm btn-outline-primary rounded-pill px-3">Edit</a>
                                <a href="#" class="btn btn-sm btn-primary rounded-pill px-3">Upgrade</a>
                            </div>
                        </div>

                        <nav class="flex-grow-1">

                            <ul class="nav flex-column gap-2 fw-semibold">
                                <li class="nav-item">
                                    <a href="./index.html"
                                        class="nav-link  active rounded px-3 py-2 d-flex align-items-center gap-2">
                                        <i class="bi bi-house-door"></i> Home
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="../src/about.html"
                                        class="nav-link load-page text-dark rounded px-3 py-2 d-flex align-items-center gap-2">
                                        <i class="bi bi-info-circle"></i> About
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="../src/Books.html"
                                        class="nav-link load-page text-dark rounded px-3 py-2 d-flex align-items-center gap-2">
                                        <i class="bi bi-book"></i> Books
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="../src/book-details.html"
                                        class="nav-link load-page text-dark rounded px-3 py-2 d-flex align-items-center gap-2">
                                        <i class="bi bi-journal-text"></i> Book Details
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="../src/Contact.html"
                                        class="nav-link load-page text-dark rounded px-3 py-2 d-flex align-items-center gap-2">
                                        <i class="bi bi-envelope"></i> Contact
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="../src/Analytics.html"
                                        class="nav-link load-page text-dark rounded px-3 py-2 d-flex align-items-center gap-2">
                                        <i class="bi bi-bar-chart"></i> Analytics
                                    </a>
                                </li>
                            </ul>
                        </nav>

                        <div class="border-top pt-3">
                            <h6 class="text-muted text-uppercase small mb-2">Reading Progress</h6>
                            <div class="progress mb-3" style="height:6px;">
                                <div class="progress-bar bg-primary" role="progressbar" style="width: 45%;"></div>
                            </div>

                            <div class="d-flex align-items-center gap-2 mb-3">
                                <img src="./Images/sr.png" class="rounded-circle border"
                                    style="width:40px; height:40px; object-fit:cover;">
                                <div>
                                    <h6 class="mb-0 fw-semibold">Suraj Rajput</h6>
                                    <small class="text-muted">Member ‚Ä¢ Free Plan</small>
                                </div>
                            </div>

                            <a href="./index.html" class="nav-link text-dark d-flex align-items-center gap-2 px-2 py-1">
                                <i class="bi bi-gear"></i> Settings
                            </a>
                            <a href="../src/welcome.html"
                                class="nav-link text-danger d-flex align-items-center gap-2 px-2 py-1">
                                <i class="bi bi-box-arrow-right"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>

                <nav class="mobile-bottom-nav navbar fixed-bottom d-lg-none shadow-lg border-top bg-white">
                    <ul class="nav justify-content-around w-100 text-center fw-semibold">

                        <li class="nav-item flex-fill">
                            <a href="./index.html"
                                class="nav-link load-page active d-flex flex-column align-items-center py-2">
                                <i class="bi bi-house-door-fill fs-5"></i>
                                <small>Home</small>
                            </a>
                        </li>

                        <li class="nav-item flex-fill">
                            <a href="../src/Books.html"
                                class="nav-link load-page d-flex flex-column align-items-center py-2">
                                <i class="bi bi-book fs-5"></i>
                                <small>Books</small>
                            </a>
                        </li>

                        <li class="nav-item flex-fill">
                            <a href="../src/book-details.html"
                                class="nav-link d-flex flex-column load-page align-items-center py-2">
                                <i class="bi bi-journal-text fs-5"></i>
                                <small>Details</small>
                            </a>
                        </li>

                        <li class="nav-item flex-fill">
                            <a href="../src/Contact.html"
                                class="nav-link load-page d-flex flex-column align-items-center py-2">
                                <i class="bi bi-envelope fs-5"></i>
                                <small>Contact</small>
                            </a>
                        </li>

                        <li class="nav-item flex-fill">
                            <a href="#" class="nav-link d-flex load-page flex-column align-items-center py-2">
                                <i class="bi bi-gear fs-5"></i>
                                <small>Settings</small>
                            </a>
                        </li>
                    </ul>
                </nav>



                <div id="main-container" class="main-container rounded w-75  shadow-sm p-2">

                    <div id="content-area" class="p-3 " style="display: none;">
                    </div>


                    <div id="hideContent">
                        <nav class="navbar text-light no-border   navbar-expand-lg py-2">
                            <div class="container-fluid">
                                <a class="navbar-brand fw-bold fs-4">Books Lib<span class="text-warning">.</span></a>

                                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#navbarContent">
                                    <span class="navbar-toggler-icon"></span>
                                </button>

                                <div class="collapse navbar-collapse" id="navbarContent">
                                    <form class="d-flex mx-auto my-2 my-lg-0 w-50">
                                        <div id="rounded"
                                            class="search-box border d-flex align-items-center w-100 px-3">
                                            <input id="searchInput" class="form-control no-border bg-transparent"
                                                type="search" placeholder="Search your books" />
                                            <i class="fa-solid fa-magnifying-glass text-muted"></i>
                                        </div>
                                    </form>

                                    <ul class="navbar-nav ms-auto align-items-center gap-3">

                                        <li class="nav-item">
                                            <a class="nav-link position-relative fw-medium"
                                                href="../src/book-details.html?id=4">
                                                New Release
                                                <sup class="text-warning fs-3 fw-bolder">.</sup>
                                                <span class="badge-dot"></span>
                                            </a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link fw-medium" href="#bom">Featured</a>
                                        </li>

                                        <li class="nav-item d-block d-lg-none">
                                            <a class="nav-link fw-medium" href="../src/about.html">About</a>
                                        </li>

                                        <li class="nav-item d-block d-lg-none">
                                            <a class="nav-link fw-medium" href="../src/Books.html">Books</a>
                                        </li>

                                        <li class="nav-item d-block d-lg-none">
                                            <a class="nav-link fw-medium" href="../src/book-details.html">Book
                                                Details</a>
                                        </li>

                                        <li class="nav-item d-block d-lg-none">
                                            <a class="nav-link fw-medium" href="../src/Contact.html">Contact</a>
                                        </li>

                                        <li class="nav-item d-block d-lg-none">
                                            <a class="nav-link fw-medium" href="../src/Analytics.html">Analytics</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" href="./index.html"><i
                                                    class="fa-solid fa-ellipsis-vertical"></i></a>
                                        </li>

                                    </ul>

                                </div>
                            </div>
                        </nav>

                        <div id="results" class="row mt-4"></div>

                        
                        <div class="container rounded my-5 position-relative">
                            <h5 class="fw-bold text-dark mb-3">Books you read last</h5>

                            <div class="carousel-nav rounded">
                                <div class="owl-carousel rounded-4"></div>

                                <button class="nav-btn prev"><i class="fa-solid fa-chevron-left"></i></button>
                                <button class="nav-btn next"><i class="fa-solid fa-chevron-right"></i></button>
                            </div>
                        </div>




                        <div class="container my-5">
                            <div class="container my-5">
                                <div class="row g-4">
                                    <div class="col-lg-9 col-md-12">
                                        <h5 class="fw-bold mb-3">New Release (Fiction)</h5>

                                        <div class="swiper newReleaseSwiper">
                                            <div class="swiper-wrapper" id="newReleaseWrapper">
                                            </div>

                                            <div class="swiper-pagination newRelease-pagination"></div>
                                            <div class="swiper-button-prev newRelease-prev d-none d-lg-block"></div>
                                            <div class="swiper-button-next newRelease-next d-none d-lg-block"></div>
                                        </div>
                                    </div>

                                    <div id="autherBg" class="col-lg-3 col-md-12">
                                        <h5 class="fw-bold mb-3">Famous Authors</h5>
                                        <div class="swiper authorSwiper">
                                            <div class="swiper-wrapper" id="authorWrapper">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>


                        <div id="bom" class="swiper container mySwiper">
                            <h5 class="fw-bold mb-3">Books Collections</h5>
                            <div class="swiper-wrapper" id="booksWrapper">
                            </div>

                            <div class="swiper-pagination"></div>

                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                        </div>

                        <div class="container text-center py-5">
                            <h2 class="mb-4">Most expensive sales from April to June 2025</h2>
                            <p class="mb-5">
                                From Renaissance philosophy to twentieth-century masterpieces: five centuries of
                                literary
                                achievement.
                            </p>

                            <div class="d-flex justify-content-center flex-wrap">

                                <div class="profile-wrapper m-3 text-center">
                                    <img src="https://covers.openlibrary.org/b/id/8231856-L.jpg" alt="Book"
                                        class="profile-img rounded-circle shadow">
                                    <h6 class="mt-2">The White Tiger <br><small>(Aravind Adiga)</small></h6>
                                    <div class="payment-badge">+28 000 —Ä—É–±.</div>
                                    <div class="plus-icon">+</div>
                                </div>

                                <div class="profile-wrapper m-3 text-center">
                                    <img src="https://covers.openlibrary.org/b/id/10525177-L.jpg" alt="Book"
                                        class="profile-img rounded-circle shadow">
                                    <h6 class="mt-2">Midnight's Children <br><small>(Salman Rushdie)</small></h6>
                                    <div class="payment-badge">+19 000 —Ä—É–±.</div>
                                    <div class="plus-icon">+</div>
                                </div>

                                <div class="profile-wrapper m-3 text-center">
                                    <img src="https://covers.openlibrary.org/b/id/10909328-L.jpg" alt="Book"
                                        class="profile-img rounded-circle shadow">
                                    <h6 class="mt-2">Train to Pakistan <br><small>(Khushwant Singh)</small></h6>
                                    <div class="payment-badge">+25 000 —Ä—É–±.</div>
                                    <div class="plus-icon">+</div>
                                </div>

                                <div class="profile-wrapper m-3 text-center">
                                    <img src="https://covers.openlibrary.org/b/id/11953864-L.jpg" alt="Book"
                                        class="profile-img rounded-circle shadow">
                                    <h6 class="mt-2">God of Small Things <br><small>(Arundhati Roy)</small></h6>
                                    <div class="plus-icon">+</div>
                                </div>
                            </div>

                            <button onclick="window.location.href = '../src/Books.html'"
                                class="btn btn-success btn-lg mt-4">See The list</button>
                            <br><br>
                            <br><br>
                        </div>

                    </div>




                </div>
            </div>
        </div>
    </header>
    <img src="../src/book-details.html" alt="">


    <script>
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                url: "data.xml",
                dataType: "xml",
                success: function (xml) {
                    $(xml).find("book").each(function () {
                        let id = $(this).attr("id");
                        const title = $(this).find("title").text();
                        const details = $(this).find("details").text();
                        const image = $(this).find("image").text();

                        const card = `
                  <div class="book-card d-flex align-items-center p-3 rounded-4 text-white"
                       style="background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);">
                     <img onclick="window.location.href = '../src/book-details.html?id=${id}'" 
     src="${image}" 
     class="book-img rounded-3 me-3"
     style="width:60px;height:80px;object-fit:cover;">

                      <div>
                          <h6 class="fw-bold mb-1">${title}</h6>
                          <small >${details}</small>
                      </div>
                  </div>
                `;

                        $(".owl-carousel").append(card);
                    });

                    var owl = $(".owl-carousel");
                    owl.owlCarousel({
                        loop: true,
                        margin: 15,
                        nav: false,
                        dots: true,
                        responsive: {
                            0: { items: 1.2 },
                            576: { items: 2 },
                            768: { items: 2.5 },
                            992: { items: 3 }
                        }
                    });

                    $(".next").click(function () {
                        owl.trigger("next.owl.carousel");
                    });
                    $(".prev").click(function () {
                        owl.trigger("prev.owl.carousel");
                    });
                },
                error: function () {
                    console.error("‚ùå Failed to load XML data.");
                }
            });
        });
    </script>



    <script>
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                url: "data.xml",
                dataType: "xml",
                success: function (xml) {
                    $(xml).find("book").each(function () {
                        let id = $(this).attr("id");

                        let title = $(this).find("title").text();
                        let author = $(this).find("author").text();
                        let image = $(this).find("image").text();

                        let slide = `
                    <div class="swiper-slide">
                        <img onclick="window.location.href = '../src/book-details.html?id=${id}'" loading="lazy" src="${image}" alt="${title}" />
                        <div class="book-info">
                            <h5>${title}</h5>
                            <p>${author}</p>
                        </div>
                    </div>
                `;
                        $("#booksWrapper").append(slide);
                    });


                    var swiper = new Swiper(".mySwiper", {
                        effect: "coverflow",
                        grabCursor: true,
                        centeredSlides: true,
                        slidesPerView: "auto",
                        coverflowEffect: {
                            rotate: 30,
                            stretch: 0,
                            depth: 200,
                            modifier: 1,
                            slideShadows: false,
                        },
                        loop: true,
                        autoplay: {
                            delay: 2500,
                            disableOnInteraction: false,
                        },
                        pagination: {
                            el: ".swiper-pagination",
                            clickable: true,
                            dynamicBullets: true,
                            dynamicMainBullets: 3
                        },
                        navigation: {
                            nextEl: ".swiper-button-next",
                            prevEl: ".swiper-button-prev",
                        },
                    });
                }
            });
        });
    </script>


    <script>
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                url: "data.xml",
                dataType: "xml",
                success: function (xml) {
                    $(xml).find("book").each(function () {
                        let id = $(this).attr("id");

                        var title = $(this).find("title").text();
                        var author = $(this).find("author").text();
                        var type = $(this).find("type").text();
                        var image = $(this).find("image").text();


                        if (type.toLowerCase() === "fiction") {
                            var slide = `
                        <div class="swiper-slide text-center" style="min-width:150px;">
                            <img onclick="window.location.href = '../src/book-details.html?id=${id}'" src="${image}" loading="lazy" class="rounded-3 shadow-sm"
                                 style="width:150px; height:220px; object-fit:cover;">
                            <h6 class="mt-2 fw-bold">${title}</h6>
                            <small class="text-muted">${author}</small>
                            <div><span class="badge bg-light text-dark mt-1">${type}</span></div>
                        </div>
                    `;
                            $("#newReleaseWrapper").append(slide);
                        }
                    });


                    var newReleaseSwiper = new Swiper(".newReleaseSwiper", {
                        slidesPerView: 3,
                        spaceBetween: 20,
                        loop: true,
                        autoplay: {
                            delay: 2500,
                            disableOnInteraction: false,
                        },
                        pagination: {
                            el: ".newRelease-pagination",
                            clickable: true,
                            dynamicBullets: true,
                            dynamicMainBullets: 3
                        },
                        navigation: {
                            nextEl: ".newRelease-next",
                            prevEl: ".newRelease-prev",
                        },
                    });
                },
                error: function () {
                    console.error("‚ùå Error loading XML");
                }
            });
        });
    </script>



    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var newReleaseSwiper = new Swiper(".newReleaseSwiper", {
                slidesPerView: 3,
                spaceBetween: 20,
                loop: true,
                autoplay: {
                    delay: 2500,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: ".newRelease-pagination",
                    clickable: true,
                },
                navigation: {
                    nextEl: ".newRelease-next",
                    prevEl: ".newRelease-prev",
                },
            });
        });
    </script>
    <script>
        var authorSwiper = new Swiper(".authorSwiper", {
            direction: "vertical",
            slidesPerView: 5,
            spaceBetween: 15,
            loop: true,
            autoplay: {
                delay: 2000,
                disableOnInteraction: false,
            },
            allowTouchMove: false,
        });
    </script>

    <script>

        $(document).ready(function () {
            $.ajax({
                type: "GET",
                url: "authors.xml",
                dataType: "xml",
                success: function (xml) {
                    $(xml).find("author").each(function () {
                        let id = $(this).attr("id");

                        var name = $(this).find("name").text();
                        var books = $(this).find("books").text();
                        var image = $(this).find("image").text();

                        var slide = `
          <div class="swiper-slide">
            <div class="d-flex align-items-center gap-3 p-2 rounded shadow-sm bg-light">
              <img  onclick="window.location.href = '../src/book-details.html?id=${id}'"  "src="${image}" loading="lazy" class="rounded-circle border"
                   style="width:60px; height:60px; object-fit:cover;">
              <div>
                <h6 class="mb-0 fw-bold">${name}</h6>
                <small class="text-muted">${books}</small>
              </div>
            </div>
          </div>
        `;
                        $("#authorWrapper").append(slide);
                    });

                    var authorSwiper = new Swiper(".authorSwiper", {
                        direction: "vertical",
                        slidesPerView: 5,
                        spaceBetween: 15,
                        loop: true,
                        autoplay: {
                            delay: 2000,
                            disableOnInteraction: false,
                        },
                        allowTouchMove: false,
                    });
                }
            });
        });
    </script>

    
    <script>
        $(document).ready(function () {
            let booksData = [];

            // Load XML data
            $.ajax({
                type: "GET",
                url: "data.xml",
                dataType: "xml",
                success: function (xml) {
                    $(xml).find("book").each(function () {
                        booksData.push({
                            id: $(this).attr("id"),
                            title: $(this).find("title").text(),
                            author: $(this).find("author").text(),
                            type: $(this).find("type").text(),
                            details: $(this).find("details").text(),
                            image: $(this).find("image").text()
                        });
                    });
                }
            });

            $("#searchInput").on("keyup", function () {
                let query = $(this).val().toLowerCase();
                let output = "";

                if (query.length > 0) {
                    let filtered = booksData.filter(book =>
                        book.title.toLowerCase().includes(query) ||
                        book.author.toLowerCase().includes(query) ||
                        book.type.toLowerCase().includes(query)
                    );

                    if (filtered.length > 0) {
                        filtered.forEach(book => {
                            output += `
                      <div class="col-md-4 mb-3">
                        <div class="card h-100 shadow-sm">
                          <img src="${book.image}" class="card-img-top" alt="${book.title}">
                          <div class="card-body">
                            <h5 class="card-title">${book.title}</h5>
                            <p class="card-text"><strong>Author:</strong> ${book.author}</p>
                            <p class="card-text"><strong>Type:</strong> ${book.type}</p>
                            <p class="text-muted">${book.details}</p>
                          </div>
                        </div>
                      </div>`;
                        });
                    } else {
                        output = "<p class='text-danger'>No results found</p>";
                    }
                }

                $("#results").html(output);
            });
        });
    </script>


</body>

</html>